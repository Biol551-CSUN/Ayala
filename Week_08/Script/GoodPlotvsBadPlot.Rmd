---
title: "Bad Plot vs. Good Plot"
author: "Nicole Ayala"
date: "`r Sys.Date()`"
output: 
  html_document:
    toc: TRUE
    toc_float: TRUE
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### **Purpose of this Assignment**
- To assess my coding ability ad knowledge of what makes a good plot versus a bad plot.

#### ~ Requirements ~
- All plots must be made in ggplot2, with code visible in the Rmarkdown document.
- The data must be visible.
- The good plot and the bad plot should be based on the same, or similar, data.
- Will be posted on Twitter
- Clearly articulate each principle of data visualization that is broken or not

## BAD PLOT




```{r}
### Load the libraries ###
library(tidyverse)
library(here)
library(ggplot2)
library(waffle)
library(devtools)
library(showtext)
library(extrafont)
library(dplyr)
library(extrafont)

### Load in the Data ###
cancer<-read.csv(here("Week_08","Data", "breastcancer_UMC.csv")) # loading data
glimpse(cancer)
# View(cancer)

loadfonts()
# want to output to .ps files instead of .pdf, use:
# loadfonts(device="postscript")
```
```{r}
#font_import(paths = "C:/Users/nikky/AppData/Local/Microsoft/Windows/Fonts")
# Register fonts for Windows bitmap output
font_add(family = "Algerian", regular ="alger.ttf")
showtext_auto()

ggplot(data = cancer, 
       aes(x=breast, 
           fill=class)) +
  geom_bar(position='dodge')+
  theme(text = element_text(family = "Algeria")) +
  labs(title='the PloT whti DaTa?!',
       subtitle ="class versus count, idk",
       x='breast',y='count') +
  theme_void() +
   scale_fill_manual(values = beyonce_palette(1)) +
  theme(plot.title = element_text(size = 95, hjust = 0.5, color = "chartreuse4"),
        plot.title.position = "plot", # title adjustments
        plot.subtitle = element_text(size =86,hjust = 0.5, lineheight = 1.1, color = "dodgerblue"),
        axis.title = element_text(size =228, color = "navy", hjust = 0.5), # title adjustments
        axis.text = element_text(size = 05,color = "tomato1",hjust = 0.5), # text adjustments
        panel.grid = element_line(linewidth = 0.35, linetype = "dotted", color = "grey"), # background gridlines
        plot.margin = unit(c(1.0, 1.0, 1.0, 1.0), "cm"), # margin adjustments
        plot.background = element_rect(color = "coral1", fill="springgreen1"))
### save plot ###
  ggsave(here("Week_08","Output","BadPlot.png"),
        width =43, height = 5) # in inches
```

### Reasons as to why this was a *bad plot*
## GOOD PLOT

```{r}

### Load the libraries ###

library(tidyverse)
library(here)
library(ggplot2)
library(ggridges)
library(ggthemes)
library(hrbrthemes)
library(beyonce)
library(janitor)
library(devtools)
library(dplyr)
library(waffle)
library(qwraps2)
library(showtext)
library(extrafont)
library(gridExtra)
library(arm)
library(car)
library(psych)
library(caTools)
library(caret)
library(keras)


### Load in the Data ###
cancer <- read.csv(here("Week_08","Data", "breastcancer_UMC.csv"))
glimpse(cancer) # look at data
# View(cancer)
attach(cancer) # all the data variables
head(cancer) # shows beginning of  dataset
str(cancer) # shows structure of dataset
#summary(cancer) # shows each column and other attributes


# pair up corr. coefficient btwn variables
pairs.panels(cancer) # menopause and age is stat sig 
df <- data.frame(`tumor-size`=c('0-4', '5-9', '10-14', '15-19', '20-24', '25-29', '30-34', '35-39', '40-44', '45-49', '50-54'))


### Filtering the Data ### Part 1
# cancer = filter(cancer, `breast-quad`!= '?' & node.caps != '?')

### Filter Data ### Part 2
data <- cancer %>%
filter(tumor.size>"30-34") 


## Loading Google fonts (https://fonts.google.com/)

#select('tumor_size', age, class, `deg-malig`) %>%
#group_by(class) %>%
#mutate(avg = mean(`tumor-size`, na.rm = TRUE)) %>%
#filter(class == "recurrence-events") %>%
#filter('tumor-size'>"10-14" & age<"60-69")

```
```{r}
# Make the Ridgeline Plot
# Register fonts for Windows bitmap output
font_add(family = "Comic", regular = "comic.ttf")
showtext_auto()
ggplot(data=data,aes(x=`deg.malig`,# degree of malignancy
           group = `tumor.size`,# group by tumor size
           fill = tumor.size)) + #  fill by tumor size
  geom_density(adjust=1.5, alpha=0.5,  show.legend = FALSE) + # adjusting size
 theme(text = element_text(family = "Comic")) +
  theme_ipsum_pub() + # cute rainbow theme
  theme_minimal() +
  scale_fill_discrete(breaks=c('30-34', '35-39', '40-44', '45-49', '50-54')) + # arranged order of legend 
  labs(x = "Degree of Malignancy", y = "Density", title = "Correlation of the Degree of Malignancy w/ Tumor Size", subtitle = "There are 5 ranges of tumor sizes from 30-54 (cm)") + # title and subtitles + x and y axes
  scale_fill_manual(values = beyonce_palette(8)) +
  theme(axis.title = element_text(size = 20, color = "darkslateblue"),
  panel.background = element_rect(fill = "linen"))
  # background color is white


ggsave(here("Week_08","Output","GoodPlot.png"), # saved the good plot
        width = 7, height = 8) # adjust size of graph in inches

```
### Reasons as to why this was a *good plot*
